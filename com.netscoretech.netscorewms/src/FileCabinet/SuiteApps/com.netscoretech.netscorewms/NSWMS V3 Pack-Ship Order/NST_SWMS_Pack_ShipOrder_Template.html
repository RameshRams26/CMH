<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ship Order</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="customCss" />
  <link rel="stylesheet" href="responsiveCss" />
  <!-- jQuery library -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="customJs"></script>
  <script id="myDataObj" type="application/json">
    dataObj
  </script>
  <style>
    .customClass {
      background-color: #fff;
    }

    .anotherCustomClass {
      background-color: #45dc4554;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      -webkit-transition: .4s;
      transition: .4s;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      -webkit-transition: .4s;
      transition: .4s;
    }
    input:checked+.slider {
      background-color: #2196F3;
    }
    input:focus+.slider {
      box-shadow: 0 0 1px #2196F3;
    }
    input:checked+.slider:before {
      -webkit-transform: translateX(26px);
      -ms-transform: translateX(26px);
      transform: translateX(26px);
    }
    .slider.round {
      border-radius: 34px;
    }
    .slider.round:before {
      border-radius: 50%;
    }
    b{
      font-weight: bold;
    }
    select.form-control {
      background: #ffffff url("data:image/svg+xml;utf8,<svg fill='black' height='38' viewBox='0 0 24 24' width='38' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>") no-repeat right 0px center;
      background-size: 35px;
    }
  </style>

</head>

<body ng-app="myApp" ng-controller="packShipOrderController">
  <div ng-show="loading" class="loader loader-wrapper">
    <img src="loaderUrl" />
  </div>
  <!--nswms_main_header starts-->
  <div class="nswms_main_header d-flex justify-content-between align-items-center">
    <div class="header_left">
      <span ng-click="goBack()">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
      </span>
    </div>
    <div class="header_center_logo">
      <span ng-click="goBack()">
        <h4>Pack/Ship Order</h4>
      </span>
    </div>
    <div class="header_right">
      <a ng-click="logOut()">
        <i class="fa fa-power-off" aria-hidden="true"></i>
      </a>
    </div>
  </div>
  <!--nswms_main_header ends-->
  <div class="nswms_main_body">
    <div class="container">
      <div class="inv_adj_fields mb-2">
        <div class="row d-flex justify-content-between">
          <div class="col-md-4 col-sm-6 col-6 col-xs-6">
            <p class="fw-bolder mb-1">
              <i class="fa fa-map-marker" aria-hidden="true" style="color:#bd3b3b;"></i>
              <span class="fw-normal"> {{locObj.name}}</span>
            </p>
          </div>
        </div>
        <div class="input_fields mb-2 shiporder">
          <div class="row justify-content-between">
            <div class="col-md-4 col-lg-3 col-sm-6 col-6 col-xs-6">
              <div class="input-group inv_adj_status_list">
                <input type="text" ng-model="scannedOrder" ng-change="getShipmentId()" class="form-control"
                  placeholder="Scan shipment ID" id="scanorder" />
                <div class="input-group-append" ng-click="openScanner()">
                  <div class="camera-icon">
                    <i class="fas fa-camera"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4 col-lg-3 col-sm-6 col-6 col-xs-6" ng-if=" statusref == 'packed' || !setupdata.addPackage">
              <div class="input-group inv_adj_status_list">
                <input type="text" ng-model="ifObj.scannedItem" ng-blur="confirmItemName()" class="form-control"
                  placeholder="Confirm Item" id="scanitem" />
                <div class="input-group-append" ng-click="openScanner()">
                  <div class="camera-icon">
                    <i class="fas fa-camera"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4 col-xs-4 col-sm-4 col-lg-4 col-4 grid-padding add-button" style="text-align: right;"
            ng-if="setupdata.addPackage && statusref !== 'packed'">
            <button type="button" ng-click="filterReceiveIFs()" class="btn btn-add-details" data-bs-toggle="modal"
              data-bs-target="#exampleModal">Add Package</button>
          </div>
          </div>

          <div class="row justify-content-between transactions">
            <div class="picklist_select col-md-4 col-lg-3 col-sm-6 col-6 col-xs-6">             
              <p class="mb-1">
                <span><b>Customer</b></span> : <span class="fw-normal"> {{customerText }}</span>
              </p>
              <p class="mb-1">
                <span><b>SO#</b></span> : <span class="fw-normal">{{createdfromname}}</span>
              </p>
              <p class="mb-1">
                <span><b>Ful fillment </b></span> : <span class="fw-normal">{{tranid}}</span>
              </p>
              <p class="mb-1 capitalize">
                <span><b>Status</b></span> : <span class="fw-normal"> {{statusref}}</span>
              </p>
            </div>         
          </div>           
          </div>
        </div>
        <div class="pickup_main_card mt-1">
          <div class="row justify-content-between item-lookup-details">
            <!-- <div class="col-md-6 col-sm-6 col-xs-12 col-12  card p-2 mt-2" ng-repeat="orders in receiveIFs" ng-if="orders.scanned == true" style="background-color:  #45dc4554;">
              <div class="">
                <table>
                  <tr>
                    <td class="card-td1">
                      <b>Item Name</b>
                    </td>
                    <td class="card-td2">:</td>
                    <td class="card-td3">{{orders.item}}</td>
                  </tr>
                  <tr>
                    <td class="card-td1">
                      <b>Quantity</b>
                    </td>
                    <td class="card-td2">:</td>
                    <td class="card-td3">{{orders.quantity}}</td>
                </table>
              </div>
            </div> -->
            <div class="col-md-6 col-sm-6 col-xs-12 col-12 mt-2" ng-repeat="orders in receiveIFs">
              <div class="card p-2"
                ng-class="{'customClass': orders.quantity != orders.packQuantity, 'anotherCustomClass': orders.quantity == orders.packQuantity, }">
                <table>
                  <tr>
                    <td class="card-td1">
                      <b>Item Name</b>
                    </td>
                    <td class="card-td2">:</td>
                    <td class="card-td3">{{orders.item}}</td>
                  </tr>
                  <tr>
                    <td class="card-td1">
                      <b>Quantity</b>
                    </td>
                    <td class="card-td2">:</td>
                    <td class="card-td3">{{orders.quantity}}</td>
                  </tr>
                  <tr>
                    <td class="card-td1">
                      <b>Packed Quantity</b>
                    </td>
                    <td class="card-td2">:</td>
                    <td class="card-td3">{{orders.packQuantity ? orders.packQuantity : 0}}</td>
                  </tr>
                  <!-- <tr>
                    <td class="card-td1">
                      <b>Description</b>
                    </td>
                    <td class="card-td2">:</td>
                    <td class="card-td3">{{orders.salesdescription}}</td>
                  </tr> -->
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
      data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close-button" data-bs-dismiss="modal" aria-label="Close">Close</button>
            <h4 class="modal-title">Package No</h4>

            <button type="button" class="save-button" ng-click="submitPackageDetails()"> Save </button>
          </div>
          <div class="modal-body">
            <div class="inv_adj_main_body">
              <div class="inv_adj_popup_slect">
                <div class="row">
                  <div class="col-md-4 col-xs-6 col-sm-4 col-6 grid-padding">
                    <div class="input-group inv_adj_status_list">
                      <input type="text" ng-model="scannedItem" ng-blur="scanItemName()" class="form-control"
                        placeholder="Scan Item" id="scanitem" />
                      <div class="input-group-append" ng-click="openScanner()">
                        <div class="camera-icon">
                          <i class="fas fa-camera"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4 col-xs-6 col-sm-4 col-6 grid-padding" style="text-align: center;">
                    <!-- <button ng-click="toggleFields()" ng-bind="enableFields ? 'Disable' : 'Enable'" class="btn btn-primary " ></button> -->
                    <label class="switch">
                      <input type="checkbox" ng-model="enableFields">
                      <span class="slider round"></span>
                    </label>
                    <!-- <span class="ml-2">{{ enableFields ? 'Disable' : 'Enable' }}</span> -->



                  </div>
                  <div class="col-md-4 col-xs-6 col-sm-4 col-6 grid-padding">
                    <div class="inv_adj_status_list">
                      <select ng-model="selectedPackage.name" ng-change="selectPackage()" class="form-control"
                        ng-options="option.id as option.name for option in packagedata" id="selectStatus">
                        <option value="" disabled>Select Package</option>
                      </select>
                    </div>
                  </div>
                </div>


                <div class="row"> <!--   ng-if="itemData.isLotItem == false && itemData.isSerialItem == false" -->
                  <div class="col-md-3 col-xs-6 col-sm-4 col-6 grid-padding">
                    <div class="inv_adj_status_list">
                      <label for="length" class="form-label">Length</label>
                      <input type="text" class="form-control" ng-model="selectedPackage.boxLength"
                        ng-disabled="!enableFields">

                    </div>
                  </div>
                  <div class="col-md-3 col-xs-6 col-sm-4 col-6 grid-padding">
                    <div class="inv_adj_status_list">
                      <label for="length" class="form-label">Width</label>
                      <input type="text" class="form-control" ng-model="selectedPackage.boxWidth"
                        ng-disabled="!enableFields">
                    </div>
                  </div>
                  <div class="col-md-3 col-xs-6 col-sm-4 col-6 grid-padding">
                    <div class="inv_adj_status_list">
                      <label for="length" class="form-label">height</label>
                      <input type="text" class="form-control" ng-model="selectedPackage.boxHeight"
                        ng-disabled="!enableFields">
                    </div>
                  </div>
                  <div class="col-md-3 col-xs-6 col-sm-4 col-6 grid-padding">
                    <div class="inv_adj_status_list">
                      <label for="length" class="form-label">Weight</label>
                      <input type="text" class="form-control" ng-model="boxWeight" value="0">
                    </div>
                  </div>
                </div>
                <hr>

                <div class="inv_adj_popup_detail">
                  <div class="row justify-content-between">
                    <div class="col-md-6 col-sm-6 col-xs-12 col-12 " ng-repeat="orders in filteredIFs">
                      <div class="card p-2">


                        <table>
                          <tr>
                            <td class="card-td1">
                              <b>Item Name</b>
                            </td>
                            <td class="card-td2">:</td>
                            <td class="card-td3">{{orders.item}}</td>
                          </tr>
                          <tr>
                            <td class="card-td1">
                              <b>Orderd Quantity</b>
                            </td>
                            <td class="card-td2">:</td>
                            <td class="card-td3">{{orders.quantity}}</td>
                          </tr>
                          <tr>
                            <td class="card-td1">
                              <b>Packed Quantity</b>
                            </td>
                            <td class="card-td2">:</td>
                            <td class="card-td3">{{orders.packQuantity}}</td>
                          </tr>
                          <tr>
                            <td class="card-td1">
                              <b>Remain Quantity</b>
                            </td>
                            <td class="card-td2">:</td>
                            <td class="card-td3">{{orders.remainQuantity}}</td>
                          </tr>

                          <tr>
                            <td class="card-td1">
                              <b>Pack Quantity</b>
                            </td>
                            <td class="card-td2">:</td>
                            <td><input type="text" class="form-control" ng-model="orders.packquantity"
                                ng-keyup="validatePackQuantity(orders)" ng-disabled="!enableFields"></td>
                          </tr>
                        </table>
                      </div>
                    </div>
                  </div>

                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <footer class="inv_adj_footer button" ng-click="createIFRecord()">
    <span class="footer-desktop">Submit</span>
  </footer>
  </div>
  </div>
  </div>
  <!--nswms_main_body ends-->
</body>

</html>